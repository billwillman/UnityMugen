;=====================================================================
; Definition of the Super Arts
;=====================================================================

;------------------------------------
; スクリューアッパー（ノーマル版）
;------------------------ 開始動作
[Statedef 3000]
type = S
movetype = A
physics = S
anim = 3000
velset = 0, 0
poweradd = IfElse(PrevStateNo >=-1000,-2000,IfElse(fvar(0)>0,0,-1000))
ctrl = 0
juggle = IfElse((PrevStateNo=[1000,2999]),0,8+(P2StateType = A)*8)

[State 3000,VarSet]
type = VarSet
trigger1 = Time = 0 && fvar(0) >0 && var(30) != 2
fvar(0) = .1

[State 3000,VarSet]
type = Varadd
trigger1 = Time = 0 && fvar(0) >0 && var(30) = 2
fvar(0) = -12

[State 3000,PalFx]
type = PalFx
trigger1 = Time = 0 && (PrevStateNo >= 1000)
time = 18
add = 180,180,180
mul = 180,180,180
sinadd = 80,80,80,4

[State 860,NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 6,<0
value = SCA

[State 3000, Super]
type = Helper
trigger1 = Time = 2
persistent = 0
id = 2000
name = "super"
pos = 3,-86
postype = P1
stateno = 2000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 3000, SuperPause]
type = Pause
trigger1 = Time = 2
time = 28
movetime = 28

[State -2,2]
type = VarSet
trigger1 = Time = 0
var(16) = 0

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 3,=1
value = 0,31
channel = 0

[State 1300, 2]
type = ExPlod
trigger1 = AnimElem = 5,=1
trigger2 = AnimElem = 14,=1
anim = 1055
postype = p1
ownpal = 1
pos = 0,0
sprpriority = ifelse((AnimElem=14,=1),1,-1)

[State 1000, 0]
type = Helper
trigger1 = AnimElem = 6,=1
trigger2 = AnimElem = 15,=1
helpertype = normal
name = "Screw"
ID = 3010+(AnimElem = 15,=1)*5
stateno = 3010+(AnimElem = 15,=1)*5
pos = 52,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 1301,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------
; スクリューアッパー（MAX版）
;------------------------ 開始動作
[Statedef 3050]
type = S
movetype = A
physics = S
anim = 3050
velset = 0, 0
poweradd = IfElse(fvar(0)>0,-1000,-2000)
juggle = IfElse((PrevStateNo=[1000,2999]),0,8+(P2StateType = A)*8)
ctrl = 0

[State 3000,VarSet]
type = VarSet
trigger1 = Time = 0 && fvar(0) >0 && var(30) != 2
fvar(0) = .1

[State 3000,VarSet]
type = Varadd
trigger1 = Time = 0 && fvar(0) >0 && var(30) = 2
fvar(0) = -12

[State -2,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && PrevStateNo=[1000,2999]
value = -1000

[State 3000, Palfx]
type = Palfx
trigger1 = Time = 0 && (PrevStateNo=[1000,2999])
Add = 155,155,155
mul = 155,155,155
Time = 18
ignorehitpause = 1

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = AnimElemNo(0) < 9
value = SCA

[State 3100, Super]
type = Helper
trigger1 = Time = 2
persistent = 0
id = 2010
name = "super"
pos = 3,-86
postype = P1
stateno = 2000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 3100, SuperPause]
type = Pause
trigger1 = Time = 2
time = 28
movetime = 28

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 3,=10
value = 0,32
channel = 0

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 17,=1
value = 0,33
channel = 0

[State 1000, Explod]
type = Explod
triggerall = time = 1
trigger1 = prevstateno = 3000; N?mero del estado anterior.
trigger2 = prevstateno = 3300; Recuerden que pueden ser los que quieran. Deben estar numerados.
anim = 15000; Animaci?n de cartel Dream Cancel.
pos = 65,70
postype = Left
removetime = -2
bindtime = 50
pausemove = 1
supermove = 1
scale = .5,.5
sprpriority = -3
ownpal = 1

[State 1100, Explod]
type = Explod
triggerall = time = 1
trigger1 = prevstateno = 3000; N?mero del estado anterior.
trigger2 = prevstateno = 3300; Recuerden que pueden ser los que quieran. Deben estar numerados.
anim = 15005; Animaci?n de l?as blancas Dream Cancel.
pos = -5,69
postype = Left
removetime = -2
bindtime = 65
pausemove = 1
supermove = 1
scale = 1.5,1
sprpriority = -2
ownpal = 1

[State 1100, Explod]
type = Explod
triggerall = time = 1
trigger1 = prevstateno = 3000; N?mero del estado anterior.
trigger2 = prevstateno = 3300; Recuerden que pueden ser los que quieran. Deben estar numerados.
anim = 15010; Animaci?n de fondo negro Dream Cancel.
pos = -150,69
postype = Left
removetime = -2
facing = 1
vfacing = 1
bindtime = 65
pausemove = 1
supermove = 1
scale = 1.5,.8
sprpriority = -3
ownpal = 1
trans = addalpha
alpha = 256, 135


[State 1300, 2]
type = ExPlod
trigger1 = AnimElem = 5,=1
trigger2 = AnimElem = 14,=1
anim = 1055
postype = p1
ownpal = 1
pos = 0,0
sprpriority = ifelse((AnimElem=14,=1),1,-1)

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 17
x = 3
y = -9

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 17
statetype = A
physics = N

[State 830,veladd]
type = veladd
trigger1 = AnimElem = 17,>0
y = .5

[State 105, VelMul]
type = VelMul
trigger1 = AnimElem = 17, > 0
x = .91

[State 1305,PosSet]
type = Posadd
trigger1 = AnimElem = 18 || AnimElem = 19
x = 16

[State -2,2]
type = VarSet
trigger1 = Time = 0
var(16) = 0

[State 1000, 0]
type = Helper
trigger1 = AnimElem = 6,=1
trigger2 = AnimElem = 15,=1
helpertype = normal
name = "Screw_MAX"
ID = 3050+(AnimElem = 15,=1)*5
stateno = 3010+(AnimElem = 15,=1)*5
pos = 52,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 1301,ChangeState]
type = ChangeState
trigger1 = AnimElem = 17, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3055
ctrl = 0

;------------------------着地
[Statedef 3055]
type    = S
movetype= I
physics = S
anim = 3055
velset = 0,0
hitdefpersist = 1

[State 1305,PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100,1]
type = PlaySnd
trigger1 = Time = 1
value = 1, 4

[State 1305,PosSet]
type = Posadd
trigger1 = AnimElem = 6 || AnimElem = 7 || AnimElem = 8
x = -8-(AnimElem = 8)*8

[State 1305,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; スクリュー
;------------------------ ハリケーン
[Statedef 3010]
type = A
movetype = A
physics = N
ctrl = 0
anim = 3010
velset = 0,0
ownpal = 1
sprpriority = 2

[State -2,2]
type = ParentVarSet
trigger1 = Time = 0
var(17) = 1

[State 182, 2]
type = PlaySnd
trigger1 = Time = 0
value = 5,8

[State 1350, 1]
type = HitDef
trigger1 = Root,var(18) = 0 || Root,var(34) = 1
trigger1 = Time = 0
attr = A, HP
animtype = UP
damage    = IfElse((IsHelper(3050)),175,133),IfElse((IsHelper(3050)),4,5)
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 1,12
guard.pausetime = 1,10
sparkno = -1
guard.sparkno = -1
sparkxy = 0,-88
hitsound = s3,4
guardsound = s4,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-13.5
guard.velocity = -10
air.hittime = 13
air.velocity = -2,-13.5
air.cornerpush.veloff = 0
yaccel = .6
fall = 1
fall.recover = 0
air.juggle = 7

[State 1350, 1]
type = HitDef
trigger1 = Root,var(18) = 1 && Root,var(34) = 0
trigger1 = Time = 0
attr = A, HP
animtype = UP
damage    = IfElse((IsHelper(3050)),175,133),IfElse((IsHelper(3050)),4,5)
getpower = 0,0
guardflag = M
hitflag = MA
pausetime = 1,12
guard.pausetime = 1,10
sparkno = -1
guard.sparkno = -1
sparkxy = 0,-88
hitsound = s3,4
guardsound = s4,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-13.5
guard.velocity = -10
air.hittime = 13
air.velocity = -2,-13.5
air.cornerpush.veloff = 0
yaccel = .6
fall = 1
fall.recover = 0
air.juggle = 7

[State -2,2]
type = ParentVaradd
trigger1 = MoveHit
var(16) = 1
ignorehitpause = 1

[State -2,2]
type = ParentVaradd
triggerall = NumTarget
trigger1 = MoveHit
var(14) = 1
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = MoveHit
anim = 2030+(MoveGuarded)*30
id = 2030
sprpriority = 10
pos = -10,-45
postype = p2
ignorehitpause = 1
ownpal = 1

[State 3005, Envcolor]
type = Envcolor
trigger1 = MoveHit
value = 255, 255, 255
ignorehitpause = 1
time = 1
under = 1

[State 114, 10]
type = MoveHitReset
trigger1 = MoveContact
ignorehitpause = 1

[State 1700, 4]
type = Projectile
trigger1 = 1
attr = S, HP
projanim = 3011
projpriority = 10000
projhitanim = -1
projremovetime = 1
offset = 0,0

[State 1000, TargetState]
type = TargetState
trigger1 = NumTarget
trigger1 = MoveHit
trigger1 = Target,StateNo = 5050
value = 3060

[State -2,2]
type = ParentVarSet
trigger1 = Time = 24
var(17) = 0

[State 7602,DestroySelf]
type = DestroySelf
trigger1= Time = 24

;------------------------ スクリュー
[Statedef 3015]
type = A
movetype = A
physics = N
ctrl = 0
anim = 3015
velset = IfElse((IsHelper(3600)),-7,IfElse((IsHelper(3015)),1.5,4)),0
ownpal = 1
sprpriority = 2
juggle = 8

[State 182, 2]
type = PlaySnd
trigger1 = Time = 0
value = 5,8

[State -2,2]
type = ParentVarSet
trigger1 = 1
var(17) = 1

[State 1350, 1]
type = HitDef
trigger1 = IsHelper(3015)
trigger1 = HitCount < 6
trigger1 = Time% 8 = 0
attr = A, HP
animtype = UP
damage    = 7+Ceil(133/(2**(Root,var(16)))),5
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 1,10
sparkno = -1
guard.sparkno = -1
sparkxy = 0,-88
hitsound = s3,4
guardsound = s4,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-13.5
guard.velocity = -10
air.hittime = 13
air.velocity = -2,-13.5
air.cornerpush.veloff = 0
yaccel = .6
fall = 1
fall.recover = 0
air.juggle = 8

[State 1350, 1]
type = HitDef
trigger1 = IsHelper(3055)
trigger1 = Time% 3 = 0
attr = A, HP
animtype = UP
damage    = 7+Ceil(175/(2**(Root,var(16)))),6
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 2,18
sparkno = -1
guard.sparkno = -1
sparkxy = 0,-88
hitsound = s3,4
guardsound = s4,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-13.5
guard.velocity = -10
air.hittime = 13
air.velocity = -2,-13.5
air.cornerpush.veloff = 0
yaccel = .6
fall = 1
fall.recover = 0
ownpal = 1
air.juggle = 8

[State 1350, 1]
type = HitDef
trigger1 = IsHelper(3600)
trigger1 = Time% 2 = 0
attr = A, HP
animtype = UP
damage    = 7+Ceil(IfElse(var(34)=1,119,105)/(2**(Root,var(16)))),4
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 2,18
sparkno = -1
guard.sparkno = -1
sparkxy = 0,-88
hitsound = s3,2
guardsound = s4,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-12
guard.velocity = -10
air.hittime = 13
air.velocity = -2,-12
air.cornerpush.veloff = 0
yaccel = .6
fall = 1
fall.recover = 0
ownpal = 1
air.juggle = 8

[State -2,2]
type = ParentVaradd
trigger1 = MoveHit
var(16) = 1
ignorehitpause = 1

[State -2,2]
type = ParentVaradd
triggerall = NumTarget
trigger1 = MoveHit
var(14) = 1
ignorehitpause = 1

[State -2,2]
type = ParentVarSet
trigger1 = MoveHit
var(19) = 15
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = MoveContact
anim = 2030+(MoveGuarded=1)*30
id = 2030
sprpriority = 10
pos = -10,-45
postype = p2
ignorehitpause = 1
ownpal = 1

[State -2,2]
type = ParentVaradd
trigger1 = Root,Var(19) >  0
trigger1 = NumTarget
trigger1 = (Target,HitShakeOver)&&!IsHelper(3600)
var(19) = -1
ignorehitpause = 1

[State 3005, Envcolor]
type = Envcolor
trigger1 = MoveHit
value = 255, 255, 255
ignorehitpause = 1
time = 1
under = 1

[State 114, 10]
type = MoveHitReset
trigger1 = MoveContact
ignorehitpause = 1

[State 1000, TargetState]
type = TargetState
trigger1 = NumTarget
trigger1 = Target,StateNo = 5050
trigger1 = Target,StateNo != 3060
value = 3060

[State 3005, Pause]
type = Pause
triggerall = RoundState = 2
triggerall = gametime%2 = 1
trigger1 = NumTarget
trigger1 = Target,stateno = [5000,5500]
trigger1 = Root,Var(19) > 0
trigger1 = (Target,HitShakeOver)&&!IsHelper(3600)
time = 1
ignorehitpause = 1

[State 1700, 4]
type = Projectile
trigger1 = 1
attr = S, HP
projanim = 3016
projpriority = 10000
projhitanim = -1
projremovetime = 1
offset = 0,0

[State -2,2]
type = ParentVarSet
trigger1= IsHelper(3015) && Time = 72
trigger2= !IsHelper(3015) && (FrontEdgeBodyDist <= -100 || BackEdgeBodyDist <= -100)
var(17) = 0

[State 7602,DestroySelf]
type = ChangeState
trigger1= IsHelper(3015) && Time = 72
trigger2= !IsHelper(3015) && (FrontEdgeBodyDist <= -100 || BackEdgeBodyDist <= -100)
value = 3020

;------------------------ 終了
[Statedef 3020]
type = A
movetype = A
physics = N
ctrl = 0
anim = 3020
velset = 0,0
ownpal = 1
sprpriority = 2

[State -2,2]
type = ParentVarSet
trigger1 = Time = 0
var(17) = 0

[State -2,2]
type = ParentVaradd
trigger1 = Root,Var(19) >  0
trigger1 = NumTarget
trigger1 = (Target,HitShakeOver)&&!IsHelper(3600)
var(19) = -1
ignorehitpause = 1

[State 3005, Pause]
type = Pause
triggerall = RoundState = 2
triggerall = gametime%2 = 1
trigger1 = NumTarget
trigger1 = Target,stateno = [5000,5500]
trigger1 = Root,Var(19) > 0
trigger1 = (Target,HitShakeOver)&&!IsHelper(3600)
time = 1
ignorehitpause = 1

[State 1000, TargetState]
type = TargetState
trigger1 = NumTarget
trigger1 = Target,StateNo = 5050
trigger1 = Target,StateNo != 3060
value = 3060

[State 7602,DestroySelf]
type = DestroySelf
trigger1= AnimElem = 9,> 0
trigger1= Root,var(19)=0

;---------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 3060]
type    = A
movetype= H
physics = N

[State 5050, 1]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2]
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 860,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= ifelse((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 5100

;------------------------------------
; 黄金のタイガーキック
;------------------------ 開始動作
[Statedef 3100]
type = S
movetype = A
physics = S
anim = 3100
velset = 0, 0
poweradd = IfElse(PrevStateNo >= 1000,-2000,IfElse(fvar(0)>0,0,-1000))
ctrl = 0
juggle = IfElse((PrevStateNo=[1000,2999]),0,8+(P2StateType = A)*8)

[State 3000,VarSet]
type = VarSet
trigger1 = Time = 0 && fvar(0) >0 && var(30) != 2
fvar(0) = .1

[State 3000,VarSet]
type = Varadd
trigger1 = Time = 0 && fvar(0) >0 && var(30) = 2
fvar(0) = -12

[State 3000,PalFx]
type = PalFx
trigger1 = Time = 0 && (PrevStateNo >= 1000)
time = 18
add = 180,180,180
mul = 180,180,180
sinadd = 80,80,80,4

[State 860,NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 6,<0
value = SCA

[State 3000, Super]
type = Helper
trigger1 = Time = 2
persistent = 0
id = 2000
name = "super"
pos = 50,-50
postype = P1
stateno = 2000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 3000, SuperPause]
type = Pause
trigger1 = Time = 2 && var(47) != 2
time = 28
movetime = 28

[State 1305,PosSet]
type = Posadd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
x = 8

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 1,=0
value = 0,27
channel = 0

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 6,=0
value = 0,28
channel = 0

[State 100,1]
type = PlaySnd
trigger1 = AnimElem= 7,=-1
value = 5, 4

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 7
x = 16
y = -5

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = N

[State 830,veladd]
type = veladd
trigger1 = AnimElem = 7,>0
y = .42

[State 105, VelMul]
type = VelMul
trigger1 = AnimElem = 7, > 0
x = .94

[State 200,HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = S, HA
animtype = Hard
air.animtype = UP
damage    = IfElse(var(34)=1,147,126),16
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 13,13
guard.pausetime = 13,10
sparkno = 3
guard.sparkno = 50
sparkxy = 0,-50
hitsound = S3,3
guardsound = S4, 1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -12
air.velocity = -4,-7
ground.cornerpush.veloff = -23
air.cornerpush.veloff = 0
yaccel = .5
air.juggle = 8
air.fall = 1
fall.recover = 1

[State 200,HitDef]
type = HitDef
trigger1 = AnimElem = 8 || AnimElem = 9 || AnimElem = 10 || AnimElem = 11
trigger2 = AnimElem = 12 || AnimElem = 13 || AnimElem = 14 || AnimElem = 15
attr = A, HA
animtype = UP
damage    = IfElse(var(34)=1,35,28),4
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = ifelse((AnimElem = 15),13,6),ifelse((AnimElem = 15),15,5)
guard.pausetime = ifelse((AnimElem = 15),12,6),ifelse((AnimElem = 15),12,6)
sparkno = 3
guard.sparkno = 50
sparkxy = 0,-50
hitsound = S3,3
guardsound = S4, 1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -4.5,-ifelse((AnimElem = 15),7,.5)
air.hittime = 13
air.velocity = -4.5,-ifelse((AnimElem = 15),7,.5)
air.cornerpush.veloff = 0
yaccel = .55
air.juggle = 8
fall = 1
fall.recover = 1

[State 1301,ChangeState]
type = ChangeState
trigger1 = AnimElem = 7, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3101
ctrl = 0

;------------------------着地
[Statedef 3101]
type    = S
movetype= I
physics = S
anim = 3101
velset = 0,0

[State 1305,PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100,1]
type = PlaySnd
trigger1 = Time = 1
value = 1, 4

[State 1305,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------
; 史上最強のローキック
;------------------------ 弱
[Statedef 3200]
type = S
movetype = A
physics = S
anim = 3200
velset = 0, 0
poweradd = IfElse(PrevStateNo >= 1000,-2000,IfElse(fvar(0)>0,0,-1000))
ctrl = 0
juggle = IfElse((PrevStateNo=[1000,2999]),0,8+(P2StateType = A)*8)

[State 3000,VarSet]
type = VarSet
trigger1 = Time = 0 && fvar(0) >0 && var(30) != 2
fvar(0) = .1

[State 3000,VarSet]
type = Varadd
trigger1 = Time = 0 && fvar(0) >0 && var(30) = 2
fvar(0) = -12

[State 3000,PalFx]
type = PalFx
trigger1 = Time = 0 && (PrevStateNo >= 1000)
time = 18
add = 180,180,180
mul = 180,180,180
sinadd = 80,80,80,4

[State 860,NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 6,<0
value = SCA

[State 3000, Super]
type = Helper
trigger1 = Time = 2
persistent = 0
id = 2000
name = "super"
pos = -56,-28
postype = P1
stateno = 2000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 3000, SuperPause]
type = Pause
trigger1 = Time = 2 && var(47) != 2
time = 28
movetime = 28

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,20
channel = 0

[State 1301,ChangeState]
type = ChangeState
trigger1 = Time >= 84
trigger2 = AnimElem = 5,>0
trigger2 = command != "hold_a"
value = 3201
ctrl = 0

;------------------------ 強
[Statedef 3210]
type = S
movetype = A
physics = S
anim = 3200
velset = 0, 0
poweradd = IfElse(PrevStateNo >= 1000,-2000,IfElse(fvar(0)>0,0,-1000))
ctrl = 0
juggle = IfElse((PrevStateNo=[1000,2999]),0,8+(P2StateType = A)*8)

[State 3000,VarSet]
type = VarSet
trigger1 = Time = 0 && fvar(0) >0 && var(30) != 2
fvar(0) = .1

[State 3000,VarSet]
type = Varadd
trigger1 = Time = 0 && fvar(0) >0 && var(30) = 2
fvar(0) = -12

[State 3000,PalFx]
type = PalFx
trigger1 = Time = 0 && (PrevStateNo >= 1000)
time = 18
add = 180,180,180
mul = 180,180,180
sinadd = 80,80,80,4

[State 860,NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 6,<0
value = SCA

[State 3000, Super]
type = Helper
trigger1 = Time = 2
persistent = 0
id = 2000
name = "super"
pos = -56,-28
postype = P1
stateno = 2000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 3000, SuperPause]
type = Pause
trigger1 = Time = 2 && var(47) != 2
time = 28
movetime = 28

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,20
channel = 0

[State 1301,ChangeState]
type = ChangeState
trigger1 = Time >= 84
trigger2 = AnimElem = 5,>0
trigger2 = command != "hold_b"
value = 3201
ctrl = 0

;------------------------ 攻撃動作
[Statedef 3201]
type = S
movetype = A
physics = S
anim = 3201
velset = 0, 0
ctrl = 0

[State 1305,PosSet]
type = Posadd
trigger1 = AnimElem = 4
x = 8

[State 1305,PosSet]
type = Posadd
trigger1 = AnimElem = 5
x = 24

[State 100,1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 5, 7

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 5
x = 4.25
y = -2

[State 105,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A
physics = N

[State 830,veladd]
type = veladd
trigger1 = AnimElem = 5,>0
y = .27

[State 200,HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, HA
animtype = UP
damage    = IfElse(var(34)=1,448,336),42
getpower = 0,0
guardflag = L
hitflag = MAF
pausetime = 30,32
guard.pausetime = 33,30
sparkno = 3
guard.sparkno = 50
sparkxy = 0,-30
hitsound = S3,4
guardsound = S4, 1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5,-7
air.hittime = 13
air.velocity = -5,-7
air.cornerpush.veloff = 0
yaccel = .6
air.juggle = 8
fall = 1
fall.recover = 0
envshake.time = 20
envshake.freq = 80
envshake.ampl = -8
guard.dist = 0

[State -2,2]
type = VarSet
trigger1 = MoveHit
trigger1 = var(10) = 0
var(10) = 15

[State -2,2]
type = VarSet
trigger1 = NumTarget = 0
var(10) = 0

[State -2,2]
type = Varadd
trigger1 = var(10) >  0
var(10) = -1
ignorehitpause = 1

[State 3005, Pause]
type = Pause
triggerall = RoundState = 2
triggerall = gametime%2 = 1
trigger1 = NumTarget
trigger1 = Target,stateno = [5000,5500]
trigger1 = var(10) > 0
time = 1
ignorehitpause = 1

[State 1301,ChangeState]
type = ChangeState
trigger1 = AnimElem = 5, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3202
ctrl = 0

;------------------------着地
[Statedef 3202]
type    = S
movetype= I
physics = S
anim = 3202
velset = 0,0

[State 1305,PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100,1]
type = PlaySnd
trigger1 = Time = 1
value = 1, 4

[State 1305,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------
; 爆裂ハリケーンタイガーカカト
;------------------------ 開始動作
[Statedef 3300]
type = S
movetype = A
physics = N
anim = 3300
velset = 0, 0
poweradd = IfElse(PrevStateNo >= 1000,-2000,IfElse(fvar(0)>0,0,-1000))
ctrl = 0
juggle = IfElse((PrevStateNo=[1000,2999]),0,8+(P2StateType = A)*8)

[State 3000,VarSet]
type = VarSet
trigger1 = Time = 0 && fvar(0) >0 && var(30) != 2
fvar(0) = .1

[State 3000,VarSet]
type = Varadd
trigger1 = Time = 0 && fvar(0) >0 && var(30) = 2
fvar(0) = -12

[State 3000,PalFx]
type = PalFx
trigger1 = Time = 0 && (PrevStateNo >= 1000)
time = 18
add = 180,180,180
mul = 180,180,180
sinadd = 80,80,80,4

[State 860,NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 4,<0
value = SCA

[State 3000, Super]
type = Helper
trigger1 = Time = 2
persistent = 0
id = 2000
name = "super"
pos = 5,-85
postype = P1
stateno = 2000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 3000, SuperPause]
type = Pause
trigger1 = Time = 2 && var(47) != 2
time = 28
movetime = 28

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 3,=0
value = 0,29
channel = 0

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 4
x = 3.5

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 38
x = 0

[State 100,1]
type = PlaySnd
trigger1 = AnimElem =  5,=-1 || AnimElem =  10,=-1 || AnimElem = 15,=-1 || AnimElem = 24,=-1 || AnimElem = 30,=-1 || AnimElem = 34,=-1
value = 2, 1

[State 210,HitDef]
type = HitDef
trigger1 = AnimElem =  5 || AnimElem = 15 || AnimElem = 30
attr = S, SA
animtype = Hard
air.animtype = UP
damage    = 21,3
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 1,2
sparkno = 3
guard.sparkno = 50
sparkxy = 0,ifelse((AnimElem=5),-80,ifelse((AnimElem = 15),-60,-55))
hitsound = S3,2
guardsound = S4, 1
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0
air.hittime = 13
air.velocity = -3,-7
ground.cornerpush.veloff =0
air.cornerpush.veloff = 0
yaccel = .55
air.juggle = 8
air.fall = 1
fall.recover = 1
id = 1400

[State 210,HitDef]
type = HitDef
trigger1 = AnimElem = 10 || AnimElem = 24 || AnimElem = 34
attr = S, SA
animtype = Hard
air.animtype = UP
damage    = 21,3
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 1,2
sparkno = 3
guard.sparkno = 50
sparkxy = 0,ifelse((AnimElem=10),-85,ifelse((AnimElem =24),-70,-65))
hitsound = S3,2
guardsound = S4, 1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0
air.hittime = 13
air.velocity = -3,-7 
ground.cornerpush.veloff =0
air.cornerpush.veloff = 0
yaccel = .55
air.juggle = 8
air.fall = 1
fall.recover = 1
id = 1400

[State 100,1]
type = PlaySnd
trigger1 = AnimElem = 41,=2
trigger2 = AnimElem = 50,=2
value = 5, 3

[State 1300, 2]
type = ExPlod
trigger1 = AnimElem = 41,=1
trigger2 = AnimElem = 50,=1
anim = 1055
postype = p1
ownpal = 1
pos = 0,0
sprpriority = ifelse((AnimElem=50,=1),1,-1)

[State 1350, 1]
type = Projectile
trigger1 = AnimElem = 42,=1
trigger2 = AnimElem = 51,=1
projanim = 3310
projhitanim = -1
projremanim = 1051
projcancelanim = 1051
projremove = 0
velocity = 7
offset = 52,0
projid = 3300
projpriority = 1
remvelocity = 0,0
projremovetime = 11
attr = A, HP
animtype = Hard
air.animtype = UP
damage    = 21,3
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 0,13
guard.pausetime = 0,11
sparkno = -1
guard.sparkno = -1
sparkxy = 0,-88
hitsound = s3,2
guardsound = s4,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0.5
air.hittime = 13
air.velocity = -4.5,-8.5
air.cornerpush.veloff = 0
yaccel = .6
air.juggle = 8
air.fall = 1
fall.recover = 0
ownpal = 1

[State 1305,PosSet]
type = Posadd
trigger1 = AnimElem = 56 || AnimElem = 57 || AnimElem = 58
x = 16

[State 200,HitDef]
type = HitDef
trigger1 = AnimElem = 58
attr = S, HA
animtype = UP
damage    = 21,3
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 13,12
sparkno = 3
guard.sparkno = 50
sparkxy = 0,-30
hitsound = S3,2
guardsound = S4, 1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3,-12
guard.velocity = 0.5
air.hittime = 13
air.velocity = -3,-12
air.cornerpush.veloff = 0
yaccel = .6
air.juggle = 8
fall = 1
fall.recover = 0

[State 1305,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 3301

;------------------------ 空中
[Statedef 3301]
type = A
movetype = A
physics = N
anim = 3301
velset = 3.6,-9
ctrl = 0

[State 200,HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = A, HA
animtype = UP
damage    = Ceil(IfElse(var(34)=1,105,84) / (2 ** HitCount)),3
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 11,13
guard.pausetime = 11,11
sparkno = 3
guard.sparkno = 50
sparkxy = 0,-75
hitsound = S3,4
guardsound = S4, 1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3,-12
guard.velocity = -10
air.hittime = 13
air.velocity = -3,-12
air.cornerpush.veloff = 0
yaccel = .6
air.juggle = 8
fall = 1
fall.recover = 0

[State 200,HitDef]
type = HitDef
trigger1 = AnimElem = 6
attr = A, HA
animtype = UP
damage    = Ceil(IfElse(var(34)=1,105,84) / (2 ** HitCount)),3
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 11,13
guard.pausetime = 11,11
sparkno = 3
guard.sparkno = 50
sparkxy = 0,-85
hitsound = S3,4
guardsound = S4, 1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10,8
guard.velocity = -10
air.hittime = 13
air.velocity = -10,8
air.cornerpush.veloff = 0
yaccel = .6
air.juggle = 8
fall = 1
fall.recover = 0
fall.xvelocity = 2.5*(enemy,facing!=facing)*-1

[State 830,veladd]
type = veladd
trigger1 = 1
y = .47

[State 1300, 2]
type = ExPlod
trigger1 = AnimElem = 4,=0
trigger2 = AnimElem = 5,=0
trigger3 = AnimElem = 6,=0
trigger4 = AnimElem = 7,=0
anim = 1350+(AnimElem = 5,=0)+(AnimElem = 6,=0)*2+(AnimElem = 7,=0)*3
postype = p1
ownpal = 1
pos = 0,0
sprpriority = 2

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 3,=0
value = 0,30
channel = 0

[State 100,1]
type = PlaySnd
trigger1 = AnimElem= 4,=0
value = 5, 5

[State 1301,ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3302
ctrl = 0

;------------------------着地
[Statedef 3302]
type    = S
movetype= I
physics = S
anim = 3302
velset = 0,0

[State 1305,PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 100,1]
type = PlaySnd
trigger1 = Time = 1
value = 1, 4

[State 1305,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 史上最強の爆裂ストレート(MAX版）
;------------------------ 開始
[Statedef 3400]
type = S
movetype = A
physics = N
anim = 3400
ctrl = 0
velset = 0, 0
poweradd = IfElse(fvar(0)>0,-1000,-2000)
juggle = IfElse((PrevStateNo=[1000,2999]),0,8+(P2StateType = A)*8)

[State 3000,VarSet]
type = VarSet
trigger1 = Time = 0 && fvar(0) >0 && var(30) != 2
fvar(0) = .1

[State 3000,VarSet]
type = Varadd
trigger1 = Time = 0 && fvar(0) >0 && var(30) = 2
fvar(0) = -12

[State -2,PowerAdd]
type = PowerAdd
trigger1 = Time = 0 && PrevStateNo=[1000,2999]
value = -1000

[State 3000, Palfx]
type = Palfx
trigger1 = Time = 0 && (PrevStateNo=[1000,2999])
Add = 155,155,155
mul = 155,155,155
Time = 18
ignorehitpause = 1

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = AnimElemNo(0) = 6
value = SCA

[State 1025, 2]
type = ReversalDef
trigger1 = AnimElem = 11,<0
attr = S, SA
reversal.attr = SCA, NA, SA, HA
pausetime = 6,12
sparkno = 50
hitsound = S4,1
sprpriority = -1
persistent = 0

[State 3100, Super]
type = Helper
trigger1 = AnimElem = 6,=1
persistent = 0
id = 2010
name = "super"
pos = -5,-70
postype = P1
stateno = 2000
helpertype = normal
supermove = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 1000, Explod]
type = Explod
triggerall = time = 1
trigger1 = prevstateno = 3000; N?mero del estado anterior.
trigger2 = prevstateno = 3300; Recuerden que pueden ser los que quieran. Deben estar numerados.
anim = 15000; Animaci?n de cartel Dream Cancel.
pos = 65,70
postype = Left
removetime = -2
bindtime = 50
pausemove = 1
supermove = 1
scale = .5,.5
sprpriority = -3
ownpal = 1

[State 1100, Explod]
type = Explod
triggerall = time = 1
trigger1 = prevstateno = 3000; N?mero del estado anterior.
trigger2 = prevstateno = 3300; Recuerden que pueden ser los que quieran. Deben estar numerados.
anim = 15005; Animaci?n de l?as blancas Dream Cancel.
pos = -5,69
postype = Left
removetime = -2
bindtime = 65
pausemove = 1
supermove = 1
scale = 1.5,1
sprpriority = -2
ownpal = 1

[State 1100, Explod]
type = Explod
triggerall = time = 1
trigger1 = prevstateno = 3000; N?mero del estado anterior.
trigger2 = prevstateno = 3300; Recuerden que pueden ser los que quieran. Deben estar numerados.
anim = 15010; Animaci?n de fondo negro Dream Cancel.
pos = -150,69
postype = Left
removetime = -2
facing = 1
vfacing = 1
bindtime = 65
pausemove = 1
supermove = 1
scale = 1.5,.8
sprpriority = -3
ownpal = 1
trans = addalpha
alpha = 256, 135

[State 3100, SuperPause]
type = Pause
trigger1 = AnimElem = 6,=1 && var(47) != 2
time = 28
movetime = 28

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 8,=1
value = 0,34
channel = 0

[State 105,VelSet]
type = VelSet
trigger1 = AnimElem = 8
x = 1

[State 3000, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 3401

;------------------------ 開始
[Statedef 3401]
type = S
movetype = A
physics = N
anim = 3401
ctrl = 0
velset = 0, 0

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5,9

[State 1300, 2]
type = ExPlod
trigger1 = AnimElem = 1
anim = 3410
postype = p1
ownpal = 1
pos = 82,-80
sprpriority = 3

[State 200,HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, HA
animtype = diagup
damage    = IfElse(var(34)=1,448,336),42
getpower = 0,0
guardflag = 
hitflag = MAF
pausetime = 33,32
sparkno = 3
guard.sparkno = 50
sparkxy = 0,-70
hitsound = S3,4
guardsound = S4, 1
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -10,-8.5
air.hittime = 13
air.velocity = -10,-8.5
air.cornerpush.veloff = 0
yaccel = .5
air.juggle = 8
fall = 1
fall.recover = 0
envshake.time = 15
envshake.freq = 80
envshake.ampl = -8
Palfx.time = 70
palfx.add = 42,-54,-134
palfx.sinadd = 42,34,0,10
palfx.color = 0
palfx.invertall = 1
guard.dist = 0

[State -2, 0]
type = Helper
trigger1 = var(10)!=1
trigger1 = NumHelper(2550)!
trigger1 = MoveHit
trigger1 = Target,stateno = [5000,5500]
trigger1 = HitShakeOver
name = "Explosion"
id = 2550
pos = 0, 0
postype = P2
stateno = 2550
keyctrl = 0
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3000, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; ダブルサイクロン（MAX2）
;------------------------ 開始
[Statedef 3700]
type = S
movetype = A
physics = S
anim = 3700
ctrl = 0
velset = 0, 0
poweradd = IfElse(var(30)=2,0,IfElse(var(30)=1,-1000,-3000))
juggle = IfElse((PrevStateNo=[1000,2999]),0,8+(P2StateType = A)*8)

;---------------2002 um fondo------------------
[State 2200, Helper]
type = Helper
triggerall = !numhelper(40001)
trigger1 = time = 6
helpertype = normal
name = "HSDM"
ID = 40001
stateno = 40001
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
;---------------2002 um fondo------------------

[State -2, Helper]
type = Helper
triggerall = !numhelper(40003)
trigger1 = time = 0
helpertype = normal
name = "H.Port"
ID = 40003
stateno = 40003
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = !numhelper(40004)
trigger1 = time = 0
helpertype = normal
name = "Player 1"
ID = 40004
stateno = 40004
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State 3000,VarSet]
type = VarSet
trigger1 = Time = 0 && fvar(0) >0 && var(30) != 2
fvar(0) = .1

[State 10000, VarSet(23)]
type = VarSet
trigger1 = Time = 0 && var(30) = 2
var(49) = 1

[State 3000, Super]
type = Helper
trigger1 = AnimElem = 1,=2
persistent = 0
id = 2500
name = "EXCEED"
pos = 0,-35
postype = P1
stateno = IfElse(var(30)=2,2500,2000)
helpertype = normal
supermove = 1
ownpal = 0
bindtime = -1
persistent = 0
pausemovetime = 99999
supermovetime = 99999

[State 3000, SuperPause]
type = Pause
trigger1 = AnimElem = 1,=2 
time = 30
movetime = 30

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,44
channel = 0

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 4,=1
value = 0,45
channel = 0

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 5,< 0
value = SCA

[State 1000, Explod]
type = Explod
triggerall = time = 1
trigger1 = prevstateno = 3000; N?mero del estado anterior.
trigger2 = prevstateno = 3300; Recuerden que pueden ser los que quieran. Deben estar numerados.
anim = 15000; Animaci?n de cartel Dream Cancel.
pos = 65,70
postype = Left
removetime = -2
bindtime = 50
pausemove = 1
supermove = 1
scale = .5,.5
sprpriority = -3
ownpal = 1

[State 1100, Explod]
type = Explod
triggerall = time = 1
trigger1 = prevstateno = 3000; N?mero del estado anterior.
trigger2 = prevstateno = 3300; Recuerden que pueden ser los que quieran. Deben estar numerados.
anim = 15005; Animaci?n de l?as blancas Dream Cancel.
pos = -5,69
postype = Left
removetime = -2
bindtime = 65
pausemove = 1
supermove = 1
scale = 1.5,1
sprpriority = -2
ownpal = 1

[State 1100, Explod]
type = Explod
triggerall = time = 1
trigger1 = prevstateno = 3000; N?mero del estado anterior.
trigger2 = prevstateno = 3300; Recuerden que pueden ser los que quieran. Deben estar numerados.
anim = 15010; Animaci?n de fondo negro Dream Cancel.
pos = -150,69
postype = Left
removetime = -2
facing = 1
vfacing = 1
bindtime = 65
pausemove = 1
supermove = 1
scale = 1.5,.8
sprpriority = -3
ownpal = 1
trans = addalpha
alpha = 256, 135


[State 1300, 2]
type = ExPlod
trigger1 = AnimElem = 2
anim = 1055
postype = p1
ownpal = 1
pos = 0,0
sprpriority = -1
facing = 1

[State 1300, 2]
type = ExPlod
trigger1 = AnimElem = 2
anim = 1055
postype = p1
ownpal = 1
pos = 0,0
sprpriority = -1
facing = -1

[State 1000, 0]
type = Helper
trigger1 = AnimElem = 3,=1
helpertype = normal
name = "super"
ID = 3715
stateno = 3715
pos = 20,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 1000, 0]
type = Helper
trigger1 = AnimElem = 3,=1
helpertype = normal
name = "Screw"
ID = 3716
stateno = 3715
pos = -20,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 4000,PlayerPush]
type = PlayerPush
trigger1 = AnimElemNo(0) = [3,8]
value = 0

[State -2,2]
type = VarSet
trigger1 = Time = 0
var(16) = 0

[State 1100,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------ スクリュー
[Statedef 3715]
type = A
movetype = A
physics = N
ctrl = 0
anim = 3715
velset = 0,0
ownpal = 1
sprpriority = 2
juggle = 8

[State 182, 2]
type = PlaySnd
trigger1 = Time = 0
value = 5,8

[State -2,2]
type = ParentVarSet
trigger1 = 1
var(17) = 1

[State -2,2]
type = ParentVarSet
trigger1 = Time = 0
var(21) = 0

[State 1350, 1]
type = HitDef
triggerall = Time% 2 = 0
trigger1 = Root,var(21)=0
trigger2 = IsHelper(3715)
trigger2 = Root,var(21)=1
trigger3 = IsHelper(3716)
trigger3 = Root,var(21)=-1
attr = A, HP
animtype = diagup
;damage    = 7+Ceil(168/(2**(Root,var(16)))),5
damage    = 7+Ceil(250/(2**(Root,var(16)))),5
getpower = 0,0
guardflag = M
hitflag = MAF
pausetime = 1,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,-88
hitsound = s3,4
guardsound = s4,1
ground.type = High
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 8,-8
guard.velocity = 10
air.hittime = 13
air.velocity = 8,-8
air.cornerpush.veloff = 0
yaccel = .6
fall = 1
fall.recover = 0
air.juggle = 8

[State -2,2]
type = ParentVarSet
trigger1 = MoveContact
var(21) = 1+IsHelper(3715)*-2
ignorehitpause = 1

[State -2,2]
type = ParentVaradd
trigger1 = MoveHit
var(16) = 1
ignorehitpause = 1

[State -2,2]
type = ParentVaradd
triggerall = NumTarget
trigger1 = MoveHit
var(14) = 1
ignorehitpause = 1

[State -2,2]
type = ParentVarSet
trigger1 = MoveHit
var(19) = 15
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = MoveContact
anim = 2030+(MoveGuarded)*30
id = 2030
sprpriority = 10
pos = floor(0-(P2Dist x)),-45
postype = p2
ignorehitpause = 1
ownpal = 1

[State -2,2]
type = ParentVaradd
trigger1 = Root,Var(19) >  0
trigger1 = NumTarget
trigger1 = (Target,HitShakeOver)&&!IsHelper(3600)
var(19) = -1
ignorehitpause = 1

[State 3005, Envcolor]
type = Envcolor
trigger1 = MoveHit
value = 255, 255, 255
ignorehitpause = 1
time = 1
under = 1

[State 114, 10]
type = MoveHitReset
trigger1 = MoveContact
ignorehitpause = 1

[State 1000, TargetState]
type = TargetState
trigger1 = NumTarget
trigger1 = Target,StateNo = 5050
value = 3060

[State 3005, Pause]
type = Pause
triggerall = RoundState = 2
triggerall = gametime%2 = 1
trigger1 = NumTarget
trigger1 = Target,stateno = [5000,5500]
trigger1 = Root,Var(19) > 0
trigger1 = (Target,HitShakeOver)&&!IsHelper(3600)
time = 1
ignorehitpause = 1

[State 1700, 4]
type = Projectile
trigger1 = 1
attr = S, HP
projanim = 3016
projpriority = 10000
projhitanim = -1
projremovetime = 1
offset = 0,0

[State -2,2]
type = ParentVarSet
trigger1= Time = 26
trigger1= IsHelper(3715) || IsHelper(3716)
var(17) = 0

[State 7602,DestroySelf]
type = ChangeState
trigger1= Time = 26
trigger1= IsHelper(3715) || IsHelper(3716)
value = 3020

;---------------------------------------------------------------------
; クロス・ギガンテス（MAX2）
;------------------------ 開始
[Statedef 3600]
type = S
movetype = A
physics = S
anim = 3600
ctrl = 0
velset = 0, 0
poweradd = IfElse(var(30)=2,0,IfElse(var(30)=1,-1000,-3000))
juggle = IfElse((PrevStateNo=[1000,2999]),0,8+(P2StateType = A)*8)

[State 3000,VarSet]
type = VarSet
trigger1 = Time = 0 && fvar(0) >0 && var(30) != 2
fvar(0) = .1

[State 10000, VarSet(23)]
type = VarSet
trigger1 = Time = 0 && var(30) = 2
var(49) = 1

[State 3000, Super]
type = Helper
trigger1 = AnimElem = 5,=0
persistent = 0
id = 2500
name = "EXCEED"
pos = 15,-65
postype = P1
stateno = IfElse(var(30)=2,2500,2000)
helpertype = normal
supermove = 1
ownpal = 0
bindtime = -1
persistent = 0
pausemovetime = 99999
supermovetime = 99999

[State 3000, SuperPause]
type = Pause
trigger1 = AnimElem = 5,=0
time = 30
movetime = 30

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 1,=1
value = 0,24
channel = 0

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 10,=1
value = 0,32
channel = 0

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 10,=20
value = 0,33
channel = 0

[State 3000, NotHitBy]
type = NotHitBy
trigger1 = AnimElem = 11,< 0
value = SCA

[State 1020,EnvShake]
type = EnvShake
trigger1 = AnimElem = 10
time = 110
freq = 30
ampl = -8
phase = 90

[State -2,2]
type = VarSet
trigger1 = Time = 0
var(16) = 0

[State 1000, 0]
type = Helper
trigger1 = AnimElem = 10,=1
helpertype = normal
name = "Screw_CROSS1"
ID = 3600
stateno = 3015
pos = -40,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 1000, 0]
type = Helper
trigger1 = AnimElem = 10,=1
helpertype = normal
name = "Screw_CROSS2"
ID = 3600
stateno = 3015
pos = 50,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 6000, 1]
type = Explod
trigger1 = AnimElem = 5,>28
trigger1 = NumHelper(2500)!
anim = IfElse(Var(30)=1,2295,2296)
id = 2295
bindtime = -1
postype = left
scale = 1.06,1.08
supermove = 1
removetime = -1
persistent = 0
pausemovetime = 99999999999999
supermovetime = 99999999999999
sprpriority = -2
ownpal = 1
ignorehitpause = 1

[State -2,2]
type = VarSet
trigger1 = Time = 0
var(19) = 0

[State -2,2]
type = VarSet
trigger1 = AnimElem = 10,=1
var(19) = 25

[State -2,2]
type = Varadd
trigger1 = Var(19) >  0
var(19) = -1
ignorehitpause = 1

[State 3005, Pause]
type = Pause
triggerall = RoundState = 2
triggerall = gametime%2 = 1
trigger1 = Var(19) > 0
time = 1
ignorehitpause = 1

[State 1100,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

